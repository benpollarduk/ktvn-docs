
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../customising-scenes/">
      
      
        <link rel="next" href="../using-resources/">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.5.8">
    
    
      
        <title>Game Engine - Ktvn</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.f2e4d321.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#game-engine" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Ktvn" class="md-header__button md-logo" aria-label="Ktvn" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Ktvn
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Game Engine
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Ktvn" class="md-nav__button md-logo" aria-label="Ktvn" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    Ktvn
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Welcome
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../getting-started/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Getting Started
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../structure/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Structure
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    DSL
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            DSL
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dsl/next/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Next
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dsl/then/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Then
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dsl/choice/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Choice
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dsl/conditional/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Conditional
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dsl/decision/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Decision
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dsl/interactive/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Interactive
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dsl/pause/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Pause
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dsl/clear/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Clear
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dsl/end/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    End
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../customising-scenes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Customising Scenes
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Game Engine
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Game Engine
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    <span class="md-ellipsis">
      Overview
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Overview">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ansiconsolegameengine" class="md-nav__link">
    <span class="md-ellipsis">
      AnsiConsoleGameEngine
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#debuggameengine" class="md-nav__link">
    <span class="md-ellipsis">
      DebugGameEngine
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#implementing-a-custom-gameengine" class="md-nav__link">
    <span class="md-ellipsis">
      Implementing a custom GameEngine
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Implementing a custom GameEngine">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#creating-a-new-gameengine" class="md-nav__link">
    <span class="md-ellipsis">
      Creating a new GameEngine
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Creating a new GameEngine">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#playsoundeffect" class="md-nav__link">
    <span class="md-ellipsis">
      playSoundEffect
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#characterasksquestion" class="md-nav__link">
    <span class="md-ellipsis">
      characterAsksQuestion
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#narratorasksquestion" class="md-nav__link">
    <span class="md-ellipsis">
      narratorAsksQuestion
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#getanswertoquestion" class="md-nav__link">
    <span class="md-ellipsis">
      getAnswerToQuestion
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#characterspeaks" class="md-nav__link">
    <span class="md-ellipsis">
      characterSpeaks
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#characterthinks" class="md-nav__link">
    <span class="md-ellipsis">
      characterThinks
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#charactershowsemotion" class="md-nav__link">
    <span class="md-ellipsis">
      characterShowsEmotion
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#characteranimation" class="md-nav__link">
    <span class="md-ellipsis">
      characterAnimation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#charactermoves" class="md-nav__link">
    <span class="md-ellipsis">
      characterMoves
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#narratornarrates" class="md-nav__link">
    <span class="md-ellipsis">
      narratorNarrates
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#enterstory" class="md-nav__link">
    <span class="md-ellipsis">
      enterStory
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#exitstory" class="md-nav__link">
    <span class="md-ellipsis">
      exitStory
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#enterchapter" class="md-nav__link">
    <span class="md-ellipsis">
      enterChapter
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#exitchapter" class="md-nav__link">
    <span class="md-ellipsis">
      exitChapter
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#enterscene" class="md-nav__link">
    <span class="md-ellipsis">
      enterScene
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#exitscene" class="md-nav__link">
    <span class="md-ellipsis">
      exitScene
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#clearscene" class="md-nav__link">
    <span class="md-ellipsis">
      clearScene
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#enterstep" class="md-nav__link">
    <span class="md-ellipsis">
      enterStep
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#exitstep" class="md-nav__link">
    <span class="md-ellipsis">
      exitStep
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#applying-your-gameengine" class="md-nav__link">
    <span class="md-ellipsis">
      Applying your GameEngine
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../using-resources/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Using Resources
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../api-documentation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Api documentation
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    <span class="md-ellipsis">
      Overview
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Overview">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ansiconsolegameengine" class="md-nav__link">
    <span class="md-ellipsis">
      AnsiConsoleGameEngine
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#debuggameengine" class="md-nav__link">
    <span class="md-ellipsis">
      DebugGameEngine
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#implementing-a-custom-gameengine" class="md-nav__link">
    <span class="md-ellipsis">
      Implementing a custom GameEngine
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Implementing a custom GameEngine">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#creating-a-new-gameengine" class="md-nav__link">
    <span class="md-ellipsis">
      Creating a new GameEngine
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Creating a new GameEngine">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#playsoundeffect" class="md-nav__link">
    <span class="md-ellipsis">
      playSoundEffect
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#characterasksquestion" class="md-nav__link">
    <span class="md-ellipsis">
      characterAsksQuestion
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#narratorasksquestion" class="md-nav__link">
    <span class="md-ellipsis">
      narratorAsksQuestion
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#getanswertoquestion" class="md-nav__link">
    <span class="md-ellipsis">
      getAnswerToQuestion
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#characterspeaks" class="md-nav__link">
    <span class="md-ellipsis">
      characterSpeaks
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#characterthinks" class="md-nav__link">
    <span class="md-ellipsis">
      characterThinks
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#charactershowsemotion" class="md-nav__link">
    <span class="md-ellipsis">
      characterShowsEmotion
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#characteranimation" class="md-nav__link">
    <span class="md-ellipsis">
      characterAnimation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#charactermoves" class="md-nav__link">
    <span class="md-ellipsis">
      characterMoves
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#narratornarrates" class="md-nav__link">
    <span class="md-ellipsis">
      narratorNarrates
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#enterstory" class="md-nav__link">
    <span class="md-ellipsis">
      enterStory
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#exitstory" class="md-nav__link">
    <span class="md-ellipsis">
      exitStory
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#enterchapter" class="md-nav__link">
    <span class="md-ellipsis">
      enterChapter
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#exitchapter" class="md-nav__link">
    <span class="md-ellipsis">
      exitChapter
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#enterscene" class="md-nav__link">
    <span class="md-ellipsis">
      enterScene
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#exitscene" class="md-nav__link">
    <span class="md-ellipsis">
      exitScene
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#clearscene" class="md-nav__link">
    <span class="md-ellipsis">
      clearScene
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#enterstep" class="md-nav__link">
    <span class="md-ellipsis">
      enterStep
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#exitstep" class="md-nav__link">
    <span class="md-ellipsis">
      exitStep
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#applying-your-gameengine" class="md-nav__link">
    <span class="md-ellipsis">
      Applying your GameEngine
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="game-engine">Game Engine</h1>
<h2 id="overview">Overview</h2>
<p>The <strong>GameEngine</strong> is a critical part of Ktvn. Essentially, the GameEngine ties together a <strong>Game</strong> and the environment 
it executes in. The GameEngine is responsible for managing game input and output. The GameEngine interface is so 
important because it allows a <strong>VisualNovel</strong> to be written largely without a target platform in mind.
Included in the Ktvn repo are a couple of examples of GameEngine implementations.</p>
<h3 id="ansiconsolegameengine">AnsiConsoleGameEngine</h3>
<p>Included in Ktvn is an example implementation of a GameEngine that targets an ANSI compatible console, 
<strong>AnsiConsoleGameEngine</strong>. Running a visual novel in a basic terminal window with limited visuals seems pretty 
counterproductive, but it is a clear way of demonstrating some aspects of implementing a GameEngine.</p>
<h3 id="debuggameengine">DebugGameEngine</h3>
<p>In <strong>app-ktvn-prototyper-swing</strong> there is an example implementation of a GameEngine that targets Swing. This is used in 
the prototyper app. It's by no means intended as an engine to use in a production game, but serves the purpose of 
demonstrating some of the visual features on Ktvn and is the engine that drives the prototyper app which can be used 
for rough prototyping of games.</p>
<h2 id="implementing-a-custom-gameengine">Implementing a custom GameEngine</h2>
<p>It's important to understand the role of the GameEngine so that rich novels can be written that target any platform. In 
this next section I'll describe how a GameEngine can be created to target a platform.</p>
<h3 id="creating-a-new-gameengine">Creating a new GameEngine</h3>
<p>Start by creating a class and inheriting the GameEngine interface.</p>
<pre><code class="language-kotlin">package com.github.benpollarduk.ktvn.example.engine

import com.github.benpollarduk.ktvn.logic.engines.GameEngine

class ExampleEngine : GameEngine {
}
</code></pre>
<p>Implement the interface to create stubs. We will discuss those in more detail in a bit.</p>
<pre><code class="language-kotlin">package com.github.benpollarduk.ktvn.example.engine

import com.github.benpollarduk.ktvn.audio.SoundEffect
import com.github.benpollarduk.ktvn.audio.VolumeManager
import com.github.benpollarduk.ktvn.characters.Character
import com.github.benpollarduk.ktvn.characters.Emotion
import com.github.benpollarduk.ktvn.characters.Narrator
import com.github.benpollarduk.ktvn.characters.animations.Animation
import com.github.benpollarduk.ktvn.layout.Position
import com.github.benpollarduk.ktvn.layout.transitions.LayoutTransition
import com.github.benpollarduk.ktvn.logic.Answer
import com.github.benpollarduk.ktvn.logic.Flags
import com.github.benpollarduk.ktvn.logic.ProgressionController
import com.github.benpollarduk.ktvn.logic.Question
import com.github.benpollarduk.ktvn.logic.engines.GameEngine
import com.github.benpollarduk.ktvn.structure.*
import com.github.benpollarduk.ktvn.structure.transitions.SceneTransition
import com.github.benpollarduk.ktvn.text.log.Log

class ExampleEngine : GameEngine {
    override val log: Log
        get() = TODO(&quot;Not yet implemented&quot;)
    override val progressionController: ProgressionController
        get() = TODO(&quot;Not yet implemented&quot;)
    override val volumeManager: VolumeManager
        get() = TODO(&quot;Not yet implemented&quot;)

    override fun playSoundEffect(soundEffect: SoundEffect) {
        TODO(&quot;Not yet implemented&quot;)
    }

    override fun characterAsksQuestion(character: Character, question: Question) {
        TODO(&quot;Not yet implemented&quot;)
    }

    override fun narratorAsksQuestion(narrator: Narrator, question: Question) {
        TODO(&quot;Not yet implemented&quot;)
    }

    override fun getAnswerToQuestion(question: Question): Answer {
        TODO(&quot;Not yet implemented&quot;)
    }

    override fun characterSpeaks(character: Character, line: String) {
        TODO(&quot;Not yet implemented&quot;)
    }

    override fun characterThinks(character: Character, line: String) {
        TODO(&quot;Not yet implemented&quot;)
    }

    override fun characterShowsEmotion(character: Character, emotion: Emotion) {
        TODO(&quot;Not yet implemented&quot;)
    }

    override fun characterAnimation(character: Character, animation: Animation) {
        TODO(&quot;Not yet implemented&quot;)
    }

    override fun characterMoves(character: Character, from: Position, to: Position, transition: LayoutTransition) {
        TODO(&quot;Not yet implemented&quot;)
    }

    override fun narratorNarrates(narrator: Narrator, line: String) {
        TODO(&quot;Not yet implemented&quot;)
    }

    override fun enterStory(story: Story) {
        TODO(&quot;Not yet implemented&quot;)
    }

    override fun exitStory(story: Story) {
        TODO(&quot;Not yet implemented&quot;)
    }

    override fun enterChapter(chapter: Chapter, transition: ChapterTransition) {
        TODO(&quot;Not yet implemented&quot;)
    }

    override fun exitChapter(chapter: Chapter) {
        TODO(&quot;Not yet implemented&quot;)
    }

    override fun enterScene(scene: Scene, transition: SceneTransition) {
        TODO(&quot;Not yet implemented&quot;)
    }

    override fun exitScene(scene: Scene, transition: SceneTransition) {
        TODO(&quot;Not yet implemented&quot;)
    }

    override fun clearScene(scene: Scene) {
        TODO(&quot;Not yet implemented&quot;)
    }

    override fun enterStep(step: Step, flags: Flags, canSkip: Boolean, cancellationToken: CancellationToken) {
        TODO(&quot;Not yet implemented&quot;)
    }

    override fun exitStep(step: Step, flags: Flags) {
        TODO(&quot;Not yet implemented&quot;)
    }
}
</code></pre>
<p>Next set up the <strong>Log</strong>, <strong>ProgressionController</strong> and <strong>VolumeManager</strong> properties. These can just be instantiated 
with default constructors.</p>
<pre><code class="language-kotlin">override val log: Log = Log()
override val progressionController: ProgressionController = ProgressionController()
override val volumeManager: VolumeManager = VolumeManager()
</code></pre>
<p>The <strong>Log</strong> provides all logging for in game events so that users can review the story. If you use 
<strong>DynamicGameConfiguration</strong> this will be automatically populated, but if you make your own <strong>GameConfiguration</strong> you 
will need to populate the log yourself.</p>
<p>The <strong>ProgressionController</strong> controls progression through the story. This allows you to access <strong>Auto</strong> and <strong>Skip</strong> 
modes.</p>
<p>The <strong>VolumeManager</strong> gives you a central point to manage all volumes for music, sound effects and other audio. The 
<strong>VolumeManager</strong> does not directly control the system volume, it just provides a normalised value to represent the 
relative volume that audio should be played at for each type of audio.</p>
<p>Now it is just a case of writing some code for each stub. The stubs are described below.</p>
<h4 id="playsoundeffect">playSoundEffect</h4>
<p>Occurs when a sound effect should be played.</p>
<h4 id="characterasksquestion">characterAsksQuestion</h4>
<p>Occurs when a character asks a question.</p>
<h4 id="narratorasksquestion">narratorAsksQuestion</h4>
<p>Occurs when a narrator asks a question.</p>
<h4 id="getanswertoquestion">getAnswerToQuestion</h4>
<p>Occurs when an answer to a question should be determined.</p>
<h4 id="characterspeaks">characterSpeaks</h4>
<p>Occurs when a character speaks.</p>
<h4 id="characterthinks">characterThinks</h4>
<p>Occurs when a character thinks.</p>
<h4 id="charactershowsemotion">characterShowsEmotion</h4>
<p>Occurs when a character shows emotion.</p>
<h4 id="characteranimation">characterAnimation</h4>
<p>Occurs when a character starts an animation.</p>
<h4 id="charactermoves">characterMoves</h4>
<p>Occurs when a character moves between positions in a layout.</p>
<h4 id="narratornarrates">narratorNarrates</h4>
<p>Occurs when a narrator narrates.</p>
<h4 id="enterstory">enterStory</h4>
<p>Occurs when a story is entered.</p>
<h4 id="exitstory">exitStory</h4>
<p>Occurs when a story is exited.</p>
<h4 id="enterchapter">enterChapter</h4>
<p>Occurs when a chapter is entered.</p>
<h4 id="exitchapter">exitChapter</h4>
<p>Occurs when a chapter is exited.</p>
<h4 id="enterscene">enterScene</h4>
<p>Occurs when a scene is entered.</p>
<h4 id="exitscene">exitScene</h4>
<p>Occurs when a scene is exited.</p>
<h4 id="clearscene">clearScene</h4>
<p>Occurs when a scene should be cleared.</p>
<h4 id="enterstep">enterStep</h4>
<p>Occurs when a step is entered.</p>
<h4 id="exitstep">exitStep</h4>
<p>Occurs when a step is exited.</p>
<h2 id="applying-your-gameengine">Applying your GameEngine</h2>
<p>Don't forget to apply your engine to the <strong>GameConfiguration</strong>. Unless you have implemented your own 
<strong>GameConfiguration</strong> this will likely be the <strong>DynamicGameConfiguration</strong>. After you have done this, you should be all set!</p>
<pre><code class="language-kotlin">val configuration = DynamicGameConfiguration().also {
    it.engine = YourEngine()
}
</code></pre>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.8fd75fb4.min.js"></script>
      
    
  </body>
</html>